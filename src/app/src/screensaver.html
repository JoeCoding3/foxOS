<!doctype html>
<style>
	canvas {
		width: 100%;
		height: 100%;
		position: absolute;
		left: 0px;
		top: 0px;
	}
</style>
<canvas id="canvas"></canvas>
<script>
	let diagPos = -150
	let flipColors = false
	let colors = ["orange", "darkviolet"]
	let ctx = canvas.getContext("2d")

	function setColor (inverted) {
		let color = flipColors
		if (inverted) color = !color
		ctx.fillStyle = colors[color * 1]
	}
	function drawBg () {
		setColor()
		ctx.fillRect(0, 0, 300, 300)
	}
	function drawDiag () {
		setColor(true)
		ctx.beginPath()
		ctx.moveTo(-150, 0)
		ctx.lineTo(diagPos, 0)
		ctx.lineTo(diagPos + 150, 150)
		ctx.lineTo(-150, 150)
		ctx.closePath()
		ctx.fill()

		setTimeout(function () {
			diagPos++
			if (diagPos >= 300) {
				diagPos = 0
				flipColors = !flipColors
				drawDiag()
			} else {
				drawDiag()
				if (diagPos >= 150) drawDiag2()
			}
		}, 10)
	}
	function drawDiag2 () {
		setColor()
		ctx.beginPath()
		ctx.moveTo(-150, 0)
		ctx.lineTo(diagPos - 300, 0)
		ctx.lineTo(diagPos - 150, 150)
		ctx.lineTo(-150, 150)
		ctx.closePath()
		ctx.fill()
	}
	
	drawBg()
	drawDiag()
</script>
